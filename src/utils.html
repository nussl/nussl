<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>utils.py &#8212; nussl 0.1.5a10 documentation</title>
    
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1.5a10',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="nussl Examples" href="../examples/examples.html" />
    <link rel="prev" title="spectral_utils.py" href="spectral_utils.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          nussl</a>
        <span class="navbar-text navbar-version pull-left"><b>0.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/getting_started.html">Getting Started</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="audio_signal.html">AudioSignal</a></li>
<li class="toctree-l1"><a class="reference internal" href="separation/separation_classes.html">Separation Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="evaluation/evaluation_classes.html">Evaluation Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="transformers/transformer_classes.html">Transformer Classes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Modules</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../examples/examples.html">Code Examples</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">utils.py</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="spectral_utils.html" title="Previous Chapter: spectral_utils.py"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; spectral_utils.py</span>
    </a>
  </li>
  <li>
    <a href="../examples/examples.html" title="Next Chapter: nussl Examples"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">nussl Examples &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="../_sources/src/utils.rst.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="module-utils">
<span id="utils-py"></span><span id="utils"></span><h1>utils.py<a class="headerlink" href="#module-utils" title="Permalink to this headline">¶</a></h1>
<p>Provides utilities for running nussl algorithms that do not belong to any specific algorithm or that are shared
between algorithms.</p>
<dl class="function">
<dt id="utils.add_mismatched_arrays">
<code class="descclassname">utils.</code><code class="descname">add_mismatched_arrays</code><span class="sig-paren">(</span><em>array1</em>, <em>array2</em>, <em>truncate=False</em><span class="sig-paren">)</span><a class="headerlink" href="#utils.add_mismatched_arrays" title="Permalink to this definition">¶</a></dt>
<dd><p>Will add two 1D numpy arrays of different length. If truncate is false, it will expand
the resultant array to the larger of the two, if True it will truncate the resultant
array to the smaller of the two.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>array1</strong> – (np.array) 1D numeric array</li>
<li><strong>array2</strong> – (np.array) 1D numeric array</li>
<li><strong>truncate</strong> – (Bool) If True, will truncate the resultant array to the smaller of the two</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">One 1D array added from the two input arrays</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utils.add_mismatched_arrays2D">
<code class="descclassname">utils.</code><code class="descname">add_mismatched_arrays2D</code><span class="sig-paren">(</span><em>array1</em>, <em>array2</em>, <em>truncate=False</em><span class="sig-paren">)</span><a class="headerlink" href="#utils.add_mismatched_arrays2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Will add two 2D numpy arrays of different length. If truncate is false, it will expand
the resultant array to the larger of the two, if True it will truncate the resultant
array to the smaller of the two.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>array1</strong> – (np.array) 2D numeric array</li>
<li><strong>array2</strong> – (np.array) 2D numeric array</li>
<li><strong>truncate</strong> – (Bool) If True, will truncate the resultant array to the smaller of the two</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">One 2D array added from the two input arrays</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utils.complex_randn">
<code class="descclassname">utils.</code><code class="descname">complex_randn</code><span class="sig-paren">(</span><em>shape</em><span class="sig-paren">)</span><a class="headerlink" href="#utils.complex_randn" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a complex-valued numpy array of random values with shape <cite>shape</cite>
:param shape: (tuple) tuple of ints that will be the shape of the resultant complex numpy array</p>
<p>Returns: (<code class="xref py py-obj docutils literal"><span class="pre">np.ndarray</span></code>): a complex-valued numpy array of random values with shape <cite>shape</cite></p>
</dd></dl>

<dl class="function">
<dt id="utils.find_peak_indices">
<code class="descclassname">utils.</code><code class="descname">find_peak_indices</code><span class="sig-paren">(</span><em>input_array</em>, <em>n_peaks</em>, <em>min_dist=None</em>, <em>do_min=False</em>, <em>threshold=0.5</em><span class="sig-paren">)</span><a class="headerlink" href="#utils.find_peak_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>This function will find the indices of the peaks of an input n-dimensional numpy array.
This can be configured to find max or min peak indices, distance between the peaks, and
a lower bound, at which the algorithm will stop searching for peaks (or upper bound if
searching for max). Use exactly the same as find_peak_values().</p>
<p>This function currently only accepts 1-D and 2-D numpy arrays.</p>
<p class="rubric">Notes</p>
<ul class="simple">
<li>This function only returns the indices of peaks. If you want to find peak values,</li>
</ul>
<p>use find_peak_values().</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>min_dist can be an int or a tuple of length 2.</dt>
<dd>If input_array is 1-D, min_dist must be an integer.
If input_array is 2-D, min_dist can be an integer, in which case the minimum
distance in both dimensions will be equal. min_dist can also be a tuple if
you want each dimension to have a different minimum distance between peaks.
In that case, the 0th value in the tuple represents the first dimension, and
the 1st value represents the second dimension in the numpy array.</dd>
</dl>
</li>
</ul>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">:: find_peak_values()</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>input_array</strong> – a 1- or 2- dimensional numpy array that will be inspected.</li>
<li><strong>n_peaks</strong> – (int) maximum number of peaks to find</li>
<li><strong>min_dist</strong> – (int) minimum distance between peaks. Default value: len(input_array) / 4</li>
<li><strong>do_min</strong> – (bool) if True, finds indices at minimum value instead of maximum</li>
<li><strong>threshold</strong> – (float) the value (scaled between 0.0 and 1.0)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><em>peak_indices</em> – (list) list of the indices of the peak values</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utils.find_peak_values">
<code class="descclassname">utils.</code><code class="descname">find_peak_values</code><span class="sig-paren">(</span><em>input_array</em>, <em>n_peaks</em>, <em>min_dist=None</em>, <em>do_min=False</em>, <em>threshold=0.5</em><span class="sig-paren">)</span><a class="headerlink" href="#utils.find_peak_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the values of the peaks in a 1-D or 2-D numpy array. Use exactly the same as
find_peak_indices(). This function will find the values of the peaks of an input
n-dimensional numpy array.</p>
<p>This can be configured to find max or min peak values, distance between the peaks, and
a lower bound, at which the algorithm will stop searching for peaks (or upper bound if
searching for max).</p>
<p>This function currently only accepts 1-D and 2-D numpy arrays.</p>
<p class="rubric">Notes</p>
<ul class="simple">
<li>This function only returns the indices of peaks. If you want to find peak values,</li>
</ul>
<p>use find_peak_values().</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>min_dist can be an int or a tuple of length 2.</dt>
<dd>If input_array is 1-D, min_dist must be an integer.
If input_array is 2-D, min_dist can be an integer, in which case the minimum
distance in both dimensions will be equal. min_dist can also be a tuple if
you want each dimension to have a different minimum distance between peaks.
In that case, the 0th value in the tuple represents the first dimension, and
the 1st value represents the second dimension in the numpy array.</dd>
</dl>
</li>
</ul>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">:: find_peak_indices()</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>input_array</strong> – a 1- or 2- dimensional numpy array that will be inspected.</li>
<li><strong>n_peaks</strong> – (int) maximum number of peaks to find</li>
<li><strong>min_dist</strong> – (int) minimum distance between peaks. Default value: len(input_array) / 4</li>
<li><strong>do_min</strong> – (bool) if True, finds indices at minimum value instead of maximum</li>
<li><strong>threshold</strong> – (float) the value (scaled between 0.0 and 1.0)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><em>peak_values</em> – (list) list of the values of the peak values</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utils.json_numpy_obj_hook">
<code class="descclassname">utils.</code><code class="descname">json_numpy_obj_hook</code><span class="sig-paren">(</span><em>dct</em><span class="sig-paren">)</span><a class="headerlink" href="#utils.json_numpy_obj_hook" title="Permalink to this definition">¶</a></dt>
<dd><p>Decodes a previously encoded numpy ndarray
with proper shape and dtype
from: <a class="reference external" href="http://stackoverflow.com/a/27948073/5768001">http://stackoverflow.com/a/27948073/5768001</a>
:param dct: (dict) json encoded ndarray
:return: (ndarray) if input was an encoded ndarray</p>
</dd></dl>

<dl class="function">
<dt id="utils.json_ready_numpy_array">
<code class="descclassname">utils.</code><code class="descname">json_ready_numpy_array</code><span class="sig-paren">(</span><em>array</em><span class="sig-paren">)</span><a class="headerlink" href="#utils.json_ready_numpy_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Adapted from:
<a class="reference external" href="http://stackoverflow.com/a/27948073/5768001">http://stackoverflow.com/a/27948073/5768001</a>
:param array: np array to make json ready.</p>
<p>Returns:</p>
</dd></dl>

<dl class="function">
<dt id="utils.json_serialize_numpy_array">
<code class="descclassname">utils.</code><code class="descname">json_serialize_numpy_array</code><span class="sig-paren">(</span><em>array</em><span class="sig-paren">)</span><a class="headerlink" href="#utils.json_serialize_numpy_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a JSON string of the numpy array.</p>
<p class="rubric">Notes</p>
<p>The generated JSON strings can be converted back to numpy arrays with load_numpy_json()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>array</strong> – (numpy array) any numpy array to convert to JSON</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">(string) JSON-ified numpy array.</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">load_numpy_json()</p>
</div>
</dd></dl>

<dl class="function">
<dt id="utils.load_numpy_json">
<code class="descclassname">utils.</code><code class="descname">load_numpy_json</code><span class="sig-paren">(</span><em>array_json</em><span class="sig-paren">)</span><a class="headerlink" href="#utils.load_numpy_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns a JSON-ified numpy array back into a regular numpy array.</p>
<p class="rubric">Notes</p>
<p>This function is only guaranteed to work with JSON generated by json_serialize_numpy_array()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>array_json</strong> – (string) JSON-ified nump array</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">(numpy array) numpy array from the input JSON string</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">json_serialize_numpy_array()</p>
</div>
</dd></dl>

</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017, Interactive Audio Lab.<br/>
      Last updated on Sep 15, 2017.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.2.<br/>
    </p>
  </div>
</footer>
  </body>
</html>